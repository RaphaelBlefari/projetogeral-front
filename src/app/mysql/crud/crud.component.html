<div class="container">
  <h1>Inserir Produto</h1>
  <form [formGroup]="produtoForm" (ngSubmit)="onSubmit()">
    <div formGroupName="produtoData" novalidate>
      <div class="form-row">

        <div class="form-group col-md-3">
          <label *ngIf="produto.produtoId" for="produtoId">ID</label>
          <input type="text" disabled *ngIf="produto.produtoId" formControlName="produtoId" class="form-control"
            placeholder="ID">
        </div>
        <div class="form-group col-md-9">
        </div>
        <div class="form-group col-md-6">
          <label for="inputEmail4">Nome</label>
          <input type="text" formControlName="nome" class="form-control" placeholder="Nome">
        </div>
        <div class="form-group col-md-6">
          <label for="inputPassword4">Marca</label>
          <input type="text" formControlName="marca" class="form-control" placeholder="Marca">
        </div>
      </div>
      <div class="form-group">
        <label for="inputAddress">Preço</label>
        <input type="text" formControlName="preco" class="form-control" value="4999" placeholder="00.00">
      </div>
      <button class="btn btn-success" *ngIf="!produto.produtoId" type="submit" [disabled]="!produtoForm.valid">Inserir</button>
      <button class="btn btn-success" *ngIf="produto.produtoId" type="submit" [disabled]="!produtoForm.valid">Salvar</button>
      <button class="btn btn-default" *ngIf="produto.produtoId" type="button" (click)="novoProdutoForm()">Novo</button>
    </div>
  </form>
  <br>
</div>

<div class="container">
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Nome</th>
        <th scope="col">Marca</th>
        <th scope="col">Preço</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of produtos, let i of index">
        <th scope="row">{{p.produtoId}}</th>
        <td>{{p.nome}}</td>
        <td>{{p.marca}}</td>
        <td>{{p.preco}}</td>
        <td>
          <button type="button" (click)="deletaProduto(p,i)" class="btn btn-danger">X</button>
          <button type="button" (click)="alteraProdutoForm(p)" class="btn btn-warning">O</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>